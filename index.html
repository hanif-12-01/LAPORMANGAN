<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Lapor Mangan! - Purwokerto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header>
    <div class="header-content">
      <h1>Lapor Mangan! - Purwokerto</h1>
    </div>
    
    <div class="weather-info" id="weatherInfo" onclick="toggleWeatherDetails()">
      <i class="fas fa-cloud-sun weather-icon" id="weatherIcon"></i>
      <span class="weather-temp" id="weatherTemp">--Â°C</span>
    </div>
    
    <div class="weather-details" id="weatherDetails">
      <div class="weather-details-header">
        <h3>Cuaca Purwokerto</h3>
        <small id="weatherDate">Hari ini</small>
      </div>
      <div class="weather-details-main">
        <i class="fas fa-cloud-sun weather-details-icon" id="weatherDetailsIcon"></i>
        <div>
          <div class="weather-details-temp" id="weatherDetailsTemp">--Â°C</div>
          <div class="weather-details-desc" id="weatherDetailsDesc">--</div>
        </div>
      </div>
      <div class="weather-details-stats">
        <div class="weather-stat"><i class="fas fa-temperature-low"></i><span>Min: <span id="weatherMinTemp">--Â°C</span></span></div>
        <div class="weather-stat"><i class="fas fa-temperature-high"></i><span>Max: <span id="weatherMaxTemp">--Â°C</span></span></div>
        <div class="weather-stat"><i class="fas fa-tint"></i><span>Kelembapan: <span id="weatherHumidity">--%</span></span></div>
        <div class="weather-stat"><i class="fas fa-wind"></i><span>Angin: <span id="weatherWind">-- m/s</span></span></div>
      </div>
    </div>
  </header>

  <div id="map"></div>

  <div class="container">
    <div class="filter-bar">
      <input id="search" placeholder="Cari nama kuliner..." />
      <select id="filter">
        <option value="">Semua</option>
        <option value="Soto">Soto</option>
        <option value="Gorengan">Gorengan</option>
        <option value="Jajanan Tradisional">Jajanan Tradisional</option>
        <option value="Camilan Kering">Camilan Kering</option>
        <option value="Kue Tradisional">Kue Tradisional</option>
        <option value="Kuliner Unik">Kuliner Unik</option>
        <option value="Sayuran">Sayuran</option>
        <option value="Dodol">Dodol</option>
        <option value="Kue Kering">Kue Kering</option>
        <option value="Makanan Ringan">Makanan Ringan</option>
        <option value="Camilan">Camilan</option>
        <option value="Camilan Manis">Camilan Manis</option>
        <option value="Minuman">Minuman</option>
      </select>
      <button onclick="showWeatherRec()">Rekomendasi Cuaca</button>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLScJ8tkZau-NVdhbmd0cWFKY25VBm0Ajjxvqo-rLYAO_iGb2qg/viewform?usp=dialog" target="_blank" class="lapor-button">
        <i class="fas fa-plus-circle"></i> Lapor
      </a>
    </div>

    <div id="list"></div>
  </div>

  <div class="detail-popup" id="detailPopup">
    <span class="close-btn" onclick="closeDetail()">Ã—</span>
    <div id="detailContent"></div>
  </div>

  <div class="chatbot" onclick="toggleChat()">ðŸ’¬</div>
  <div class="chat-popup" id="chatPopup">
    <div class="chat-header">
      <span>MakanBot</span>
      <span class="chat-close" onclick="toggleChat()">Ã—</span>
    </div>
    <div class="chat-messages" id="chatMessages">
      <div class="message message-bot">
        Halo! Ada yang bisa saya bantu cari kuliner di Purwokerto?
        <div class="message-time">8:23 PM</div>
      </div>
    </div>
    <div class="chat-input-container">
      <input type="text" class="chat-input" id="chatInput" placeholder="Ketik pesan..." onkeypress="if(event.key=='Enter') sendChat()">
      <button class="chat-send" onclick="sendChat()">âž¤</button>
    </div>
  </div>

  <script src="https://opensheet.elk.sh/1s1WgKAsoPLYvdoTKP0wGcenlcnGJQQv4ggY4JmZEUHE/Sheet1"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>
</html>
